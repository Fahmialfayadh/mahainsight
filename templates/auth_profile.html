{% extends "base.html" %}

{% block title %}Profil Akun - MahaInsight{% endblock %}

{% block content %}
<div class="min-h-[80vh] flex flex-col justify-center py-20">
    <div class="max-w-md w-full mx-auto px-4">

        <div class="text-center mb-10">
            <h1 class="text-3xl font-display font-bold text-slate-900 dark:text-dm-100 mb-2">Pengaturan Akun</h1>
            <p class="text-slate-500 dark:text-dm-400">Kelola informasi profil Anda.</p>
        </div>

        <div class="bg-white/80 dark:bg-dm-800/80 backdrop-blur-xl rounded-3xl shadow-xl shadow-slate-200/50 dark:shadow-black/20 border border-white dark:border-dm-600 p-8">
            <form method="POST" action="{{ url_for('auth.profile') }}" class="space-y-5">

                <!-- Full Name -->
                <div>
                    <label for="full_name" class="block text-sm font-medium text-slate-700 dark:text-dm-200 mb-2">Nama Lengkap</label>
                    <div class="relative">
                        <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                            <i class="bi bi-person text-slate-400 dark:text-dm-400"></i>
                        </div>
                        <input type="text" name="full_name" id="full_name" required value="{{ user.full_name or '' }}"
                            class="block w-full pl-11 pr-4 py-3 rounded-xl border-slate-200 dark:border-dm-600 bg-slate-50 dark:bg-dm-700 text-slate-900 dark:text-dm-100 focus:border-brand-500 focus:ring-brand-500 focus:bg-white dark:focus:bg-dm-600 transition-all text-sm">
                    </div>
                </div>

                <!-- Email -->
                <div>
                    <label for="email" class="block text-sm font-medium text-slate-700 dark:text-dm-200 mb-2">Email Address</label>
                    <div class="relative">
                        <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                            <i class="bi bi-envelope text-slate-400 dark:text-dm-400"></i>
                        </div>
                        <input type="email" name="email" id="email" required value="{{ user.email or '' }}"
                            class="block w-full pl-11 pr-4 py-3 rounded-xl border-slate-200 dark:border-dm-600 bg-slate-50 dark:bg-dm-700 text-slate-900 dark:text-dm-100 focus:border-brand-500 focus:ring-brand-500 focus:bg-white dark:focus:bg-dm-600 transition-all text-sm">
                    </div>
                    {% if user.oauth_provider %}
                    <p class="mt-2 text-xs text-slate-500 dark:text-dm-400 flex items-center gap-1">
                        <i class="bi bi-info-circle"></i>
                        Akun terhubung dengan {{ user.oauth_provider|title }}. Mengubah email mungkin mempengaruhi login
                        OAuth.
                    </p>
                    {% endif %}
                </div>

                <!-- Submit Button -->
                <button type="submit"
                    class="w-full flex justify-center py-3.5 px-4 rounded-xl text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 shadow-lg shadow-brand-500/30 transition-all hover:-translate-y-0.5 relative overflow-hidden group">
                    <span class="relative z-10 flex items-center gap-2">
                        <i class="bi bi-save"></i> Simpan Perubahan
                    </span>
                    <div
                        class="absolute inset-0 -translate-x-full group-hover:translate-x-0 bg-brand-500 transition-transform duration-300">
                    </div>
                </button>
            </form>
        </div>

        <div class="mt-8 text-center">
            <a href="{{ url_for('index') }}" class="text-sm font-medium text-slate-500 dark:text-dm-400 hover:text-brand-600 dark:hover:text-brand-400 transition">
                <i class="bi bi-arrow-left mr-1"></i> Kembali ke Beranda
            </a>
        </div>
    </div>
</div>
{% endblock %}